var PowerLib = { support: { input: { ___placeholder: null, placeholder: function () { if (PowerLib.support.input.___placeholder != null) { var e = document.createElement("input"); PowerLib.support.input.placeholder("placeholder" in e); e = null } return PowerLib.support.input.___placeholder } } }, debug: true, isDefined: function (e) { if (e == null || typeof e == "undefined") { return false } if (e === "undefined") return false; return true }, isArray: function (e) { if (!PowerLib.isDefined(e)) return false; return e.constructor == Array }, isInArray: function (e, t) { var n = t.length; for (var r = 0; r < n; r++) { if (t[r] == e) return true } return false }, logValues: [], log: function (e) { if (PowerLib.debug) PowerLib.logValues.push(e); try { if (PowerLib.debug && PowerLib.isDefined(console)) { console.log(e) } } catch (t) { } }, handlers: {}, handleTypes: { error: "error", info: "info" }, addHandler: function (e, t, n) { PowerLib.handlers[e] = { id: e, type: t, func: n } }, removeHandler: function (e) { PowerLib.handlers[e] = null; delete PowerLib.handlers[e] }, fireHandler: function (e, t, n) { for (var r in PowerLib.handlers) { var i = PowerLib.handlers[r]; if (i.type == e) { i.func.apply(null, [t, n]) } } }, get: function (e) { return document.getElementById(e) }, _queryData: null, getQueryValue: function (e) { if (!PowerLib.isDefined(_queryData)) { var t = location.search.slice(1).split("&"); t.forEach(function (e) { var t = e.split("="); PowerLib._queryData[t[0]] = t[1] }) } return _queryData[e] }, getAttributes: function (e, t) { var n = e.getAttribute && e.getAttribute(t) || null; if (!n) { var r = e.attributes; var i = r.length; for (var s = 0; s < i; s++) if (r[s].nodeName === t) n = r[s].nodeValue } return n }, getEpoch: function () { return Math.round((new Date).getTime() / 1e3) }, onInputKeyDownSubmit: function (e, t, n) { var r = e || window.event; if (r.keyCode === 13) { n.apply() } }, onInputBlur: function (e) { if (PowerLib.support.input.placeholder()) return; if (e.value == "") { var t = PowerLib.getAttributes(e, "placeholder"); e.value = t } }, onInputFocus: function (e) { if (PowerLib.support.input.placeholder()) return; var t = PowerLib.getAttributes(e, "placeholder"); if (e.value == t) { e.value = "" } }, getElementBoundaries: function (e) { var t, n, r, i, s = { left: 0, top: 0, right: 0, bottom: 0, width: 0, height: 0 }; if (typeof e != "undefined") { n = e.ownerDocument; r = n.body; i = n.documentElement; t = e.getBoundingClientRect(); s.left = t.left; s.top = t.top; s.right = t.right; s.bottom = t.bottom; if (t.width) { s.width = t.width; s.height = t.height } else { s.width = s.right - s.left; s.height = s.bottom - s.top } if (r.scrollTop) { s.top += r.scrollTop; s.left += r.scrollLeft } else if (i && i.scrollTop) { s.top += i.scrollTop; s.left += i.scrollLeft } } return s }, newGuid: function () { var e = function () { return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1) }; return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e() }, getStorage: function (e) { if (localStorage) { var t = localStorage[e]; if (!PowerLib.isDefined(t)) return null; try { return JSON.parse(localStorage[e]) } catch (n) { return localStorage[e] } } return null }, setStorage: function (e, t) { if (typeof t != "string" && PowerLib.isDefined(t)) t = JSON.stringify(t); try { if (localStorage) localStorage[e] = t } catch (n) { PowerLib.log("setStorage Error:" + n.message) } } }; if (!PowerLib.isDefined(String.prototype.contains)) { String.prototype.contains = function (e) { return this.indexOf(e) != -1 } }